webpackJsonp([2,10],{93:function(e,t){"use strict";function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;e.length<t;)e="0"+e;return e}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss",n=new Date(e),l=""+n.getFullYear(),r=""+(n.getMonth()+1),u=""+n.getDate(),i=""+n.getHours(),d=""+n.getMinutes(),o=""+n.getSeconds(),c=/Y+|M+|D+|h+|m+|s+|S+/g;return t.replace(c,function(e){var t=e.length;switch(e[0]){case"Y":return l.slice(-t);case"M":return a(r).slice(-t);case"D":return a(u).slice(-t);case"h":return a(i).slice(-t);case"m":return a(d).slice(-t);case"s":return a(o).slice(-t)}})}function l(e){var t=/^\s*(\d{4})-(\d{1,2})-(\d{1,2})\s*$/,a=/^\s*(\d{4})-(\d{1,2})-(\d{1,2})\s+(\d{1,2}):(\d{1,2}):(\d{1,2})\s*$/,n=void 0;return(n=e.match(t))?+new Date(+n[1],+n[2]-1,+n[3]):(n=e.match(a))?+new Date(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6]):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default={formatDate:n,parseDate:l},e.exports=t.default},776:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(19),r=n(l),u=a(17),i=n(u),d=a(18),o=n(d),c=a(21),s=n(c),f=a(20),m=n(f),p=a(1),h=n(p),v=a(29),_=a(1423),E=n(_),y=a(776),g=(n(y),function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.handleClickItem=e.handleClickItem.bind(e),e}return(0,m.default)(t,e),(0,o.default)(t,[{key:"handleClickItem",value:function(e){var t=this.props,a=t.actions,n=t.item;a.replaceItem(n),v.browserHistory.push("/editItem")}},{key:"render",value:function(){var e=this.props.item;return h.default.createElement("div",{className:E.default.item,onClick:this.handleClickItem},h.default.createElement("img",{className:E.default.img,src:e.pic}),h.default.createElement("div",{className:E.default.content},h.default.createElement("p",{className:E.default.contentInfo},e.brand&&"["+e.brand+"]",e.itemName," ",e.property),h.default.createElement("p",{className:E.default.contentInfo},e.price,"元 / ",e.unit),h.default.createElement("p",{className:E.default.contentInfo},h.default.createElement("span",{className:E.default.strong},"￥",e.price),h.default.createElement("span",{className:E.default.quantity},"库存",e.quantity))))}}]),t}(p.Component));t.default=g,e.exports=t.default},1206:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(19),r=n(l),u=a(17),i=n(u),d=a(18),o=n(d),c=a(21),s=n(c),f=a(20),m=n(f),p=a(1),h=n(p),v=(a(10),a(1422)),_=n(v),E=a(45),y=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.handleSubmit=e.handleSubmit.bind(e),e}return(0,m.default)(t,e),(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,a=t.form,n=t.actions;a.validateFields(function(e,t){e||n.getItems(t)})}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.schools,n=e.cats;return h.default.createElement(E.Form,{onSubmit:this.handleSubmit,className:_.default.form,inline:!0},h.default.createElement(E.Form.Item,{label:"学校"},t.getFieldDecorator("school",{initialValue:a[0]?a[0].id:""})(h.default.createElement(E.Select,{className:_.default.select},a.map(function(e){return h.default.createElement(E.Select.Option,{key:e.id,value:e.id},e.schoolName)})))),h.default.createElement(E.Form.Item,{label:"分类"},t.getFieldDecorator("cat",{initialValue:""})(h.default.createElement(E.Select,{className:_.default.select},h.default.createElement(E.Select.Option,{value:""},"全部"),n.map(function(e){return h.default.createElement(E.Select.Option,{key:e.id,value:e.id},e.catName)})))),h.default.createElement(E.Form.Item,null,h.default.createElement(E.Button,{htmlType:"submit",type:"primary"},"查询")))}}]),t}(p.Component);t.default=E.Form.create()(y),e.exports=t.default},1207:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(19),r=n(l),u=a(17),i=n(u),d=a(18),o=n(d),c=a(21),s=n(c),f=a(20),m=n(f),p=a(1),h=n(p),v=a(29),_=a(45),E=a(93),y=n(E),g=a(1424),I=n(g),b=a(776),N=(n(b),function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.columns=[{title:"图片",dataIndex:"pic",render:function(e){return h.default.createElement("img",{width:"40",height:"40",src:e})}},{title:"商品ID",dataIndex:"id"},{title:"商品名称",dataIndex:"itemName"},{title:"价格",dataIndex:"price"},{title:"规格",dataIndex:"property"},{title:"单位",dataIndex:"unit"},{title:"库存",dataIndex:"quantity"},{title:"创建时间",dataIndex:"create",render:function(e){return y.default.formatDate(e)}},,{title:"更新时间",dataIndex:"update",render:function(e){return y.default.formatDate(e)}},{title:"操作",render:function(t){return h.default.createElement("span",null,h.default.createElement(v.Link,{to:"/editItem?id="+t.id},"编辑"),"  ",h.default.createElement("a",{style:{color:"#f04134"},onClick:function(){return e.handleRemove(t.id)}},"删除"))}}],e}return(0,m.default)(t,e),(0,o.default)(t,[{key:"handleRemove",value:function(e){var t=this.props,a=t.actions,n=t.handleUpdate;a.postRemoveItem(e),n()}},{key:"render",value:function(){var e=this.props.items;return h.default.createElement("section",{className:I.default.sectionMain},h.default.createElement(_.Table,{className:I.default.table,columns:this.columns,rowKey:function(e){return e.id},dataSource:e}))}}]),t}(p.Component));t.default=N,e.exports=t.default},1208:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(19),r=n(l),u=a(17),i=n(u),d=a(18),o=n(d),c=a(21),s=n(c),f=a(20),m=n(f),p=a(1),h=n(p),v=a(1206),_=n(v),E=a(1207),y=n(E),g=a(1421),I=n(g),b=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.handleUpdate=e.handleUpdate.bind(e),e}return(0,m.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.actions;e.getSchools(),e.getCats()}},{key:"handleUpdate",value:function(){var e=this.props.actions;this.refs.form.validateFields(function(t,a){t||e.getItems(a)})}},{key:"render",value:function(){var e=this.props,t=e.actions,a=e.schools,n=e.items,l=e.cats;return h.default.createElement("div",{className:I.default.app},h.default.createElement("h1",{className:I.default.title},"商品管理"),h.default.createElement(_.default,{schools:a,ref:"form",cats:l,actions:t}),h.default.createElement(y.default,{handleUpdate:this.handleUpdate,items:n,actions:t}))}}]),t}(p.Component);t.default=b,e.exports=t.default},1421:function(e,t){e.exports={app:"_2yS5mgOP",title:"_2_vfWFBe"}},1422:function(e,t){e.exports={form:"_2tTXEtEN",select:"_1AD0Oahb"}},1423:function(e,t){e.exports={item:"_39gWlwco",img:"sMp9g_wu",content:"_13W-41kW","content-info":"_2vt6i-Kd",contentInfo:"_2vt6i-Kd",strong:"_3Rzr0vsm",quantity:"XYcVLCXP"}},1424:function(e,t){e.exports={"section-main":"_2CSP240N",sectionMain:"_2CSP240N",table:"_2jdWXDKL"}}});