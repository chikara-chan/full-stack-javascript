webpackJsonp([6,8],{58:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(21),u=l(n),i=t(15),c=l(i),s=t(16),d=l(s),r=t(18),f=l(r),o=t(17),m=l(o),p=t(1),h=l(p),v=t(26),b=t(59),N=l(b),E=function(e){function a(){(0,c.default)(this,a);var e=(0,f.default)(this,(a.__proto__||(0,u.default)(a)).call(this));return e.handleClickBack=e.handleClickBack.bind(e),e}return(0,m.default)(a,e),(0,d.default)(a,[{key:"handleClickBack",value:function(){v.browserHistory.goBack()}},{key:"render",value:function(){var e=this.props,a=e.className,t=e.title,l=e.back,n=e.action,u=e.handleClickAction,i=e.handleClickTitle;return h.default.createElement("div",{className:N.default.actionbar+" "+a},h.default.createElement("h1",{className:N.default.back,onClick:this.handleClickBack},l&&h.default.createElement("i",{className:"iconfont icon-back "+N.default.icon})),h.default.createElement("h1",{className:N.default.title,onClick:i},t),h.default.createElement("h1",{className:N.default.action,onClick:u},n))}}]),a}(p.Component);a.default=E,e.exports=a.default},59:function(e,a){e.exports={actionbar:"_1YT9hvmS",back:"_1HoiKgwz",icon:"_3t3E94hd",title:"_3NYzz9Zp",action:"_2GmbHU0p"}},119:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}a.__esModule=!0;var n=t(206),u=l(n);a.default=function(e,a,t){return a in e?(0,u.default)(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}},205:function(e,a){"use strict";function t(e){switch(e){case 0:return"普通超市";default:return""}}function l(e){switch(e){case 0:return"男";case 1:return"女";default:return""}}function n(e){switch(e){case 100:return"待接单";case 101:return"待发货";case 102:return"待收货";case 103:return"待评价";case 104:return"已完成";case 105:return"退款中";case 200:return"已取消";case 201:return"已拒单";case 202:return"退款成功";default:return""}}Object.defineProperty(a,"__esModule",{value:!0}),a.default={switchShopType:t,switchGender:l,switchStatus:n},e.exports=a.default},1097:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(119),u=l(n),i=t(21),c=l(i),s=t(15),d=l(s),r=t(16),f=l(r),o=t(18),m=l(o),p=t(17),h=l(p),v=t(1),b=l(v),N=t(1277),E=l(N),C=t(205),k=(l(C),function(e){function a(){(0,d.default)(this,a);var e=(0,m.default)(this,(a.__proto__||(0,c.default)(a)).call(this));return e.handleChange=e.handleChange.bind(e),e.handleChangeUser=e.handleChangeUser.bind(e),e.handleLogout=e.handleLogout.bind(e),e.handleClickAvatar=e.handleClickAvatar.bind(e),e.handleChangeAvatar=e.handleChangeAvatar.bind(e),e}return(0,h.default)(a,e),(0,f.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.actions;e.getShop(),e.getUser()}},{key:"componentDidUpdate",value:function(e,a){var t=this.props.actionbar,l=e.actionbar,n=this.refs.shopName;"编辑"===l.action&&"完成"===t.action&&n.focus()}},{key:"handleChange",value:function(e){var a=e.target,t=this.props.actions;t.updateShop((0,u.default)({},a.name,a.value))}},{key:"handleChangeUser",value:function(e){var a=e.target,t=this.props.actions;t.updateUser((0,u.default)({},a.name,a.value))}},{key:"handleChangeAvatar",value:function(e){var a=e.target,t=this.props.actions;t.postUserAvatar((0,u.default)({},a.name,a.files[0]))}},{key:"handleClickAvatar",value:function(e){var a=(this.refs.file,this.props.actionbar),t="编辑"===a.action;t&&e.preventDefault()}},{key:"handleLogout",value:function(){var e=this.props.actions;e.postLogout(),e.initUser()}},{key:"render",value:function(){var e=this.props.shop,a=e.shopName,t=e.school,l=e.shopType,n=e.openTime,u=this.props.user,i=u.nickname,c=u.mobile,s=u.email,d=u.identity,r=u.address,f=u.avatar,o=this.props.actionbar,m="编辑"===o.action;return b.default.createElement("section",{className:E.default.sectionMain},b.default.createElement("form",{className:E.default.form},b.default.createElement("label",{className:E.default.imgWrap,onClick:this.handleClickAvatar},b.default.createElement("img",{className:E.default.img,src:f}),b.default.createElement("input",{className:E.default.file,ref:"file",type:"file",accept:"image/*",name:"file",onChange:this.handleChangeAvatar})),b.default.createElement("div",{className:E.default.card},b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"超市名"),b.default.createElement("input",{className:E.default.input,ref:"shopName",type:"text",name:"shopName",readOnly:m,value:a,onChange:this.handleChange}))),b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"所属学校"),b.default.createElement("input",{className:E.default.input+" "+(m?"":E.default.disabled),type:"text",name:"school.id",readOnly:!0,value:t.schoolName}))),b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"超市类型"),b.default.createElement("input",{className:E.default.input+" "+(m?"":E.default.disabled),type:"text",name:"shopType",readOnly:!0,value:(0,C.switchShopType)(l)}))),b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"营业时间"),b.default.createElement("input",{className:E.default.input,type:"text",name:"openTime",value:n,onChange:this.handleChange})))),b.default.createElement("div",{className:E.default.card},b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"店长名"),b.default.createElement("input",{className:E.default.input,type:"text",name:"nickname",readOnly:m,value:i,onChange:this.handleChangeUser}))),b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"身份证"),b.default.createElement("input",{className:E.default.input,type:"text",name:"identity",readOnly:m,value:d,onChange:this.handleChangeUser}))),b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"手机"),b.default.createElement("input",{className:E.default.input,type:"text",name:"mobile",readOnly:m,value:c,onChange:this.handleChangeUser}))),b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"邮箱"),b.default.createElement("input",{className:E.default.input,type:"text",name:"email",readOnly:m,value:s,onChange:this.handleChangeUser}))),b.default.createElement("div",{className:E.default.field},b.default.createElement("label",{className:E.default.label},b.default.createElement("span",{className:E.default.title},"地址"),b.default.createElement("input",{className:E.default.input,type:"text",name:"address",readOnly:m,value:r,onChange:this.handleChangeUser})))),b.default.createElement("div",{className:E.default.card},b.default.createElement("div",{className:E.default.field},b.default.createElement("input",{className:E.default.logout,type:"button",value:"退出登录",onClick:this.handleLogout})))))}}]),a}(v.Component));a.default=k,e.exports=a.default},1098:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(21),u=l(n),i=t(15),c=l(i),s=t(16),d=l(s),r=t(18),f=l(r),o=t(17),m=l(o),p=t(1),h=l(p),v=(t(26),t(1097)),b=l(v),N=t(58),E=l(N),C=t(1276),k=l(C),g=function(e){function a(){(0,c.default)(this,a);var e=(0,f.default)(this,(a.__proto__||(0,u.default)(a)).call(this));return e.handleClickAction=e.handleClickAction.bind(e),e}return(0,m.default)(a,e),(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.actions;e.updateActionbar({title:"个人中心",action:"编辑",back:!1})}},{key:"handleClickAction",value:function(){var e=this.props,a=e.actions,t=e.actionbar;"编辑"===t.action?a.updateActionbar({action:"完成"}):"完成"===t.action&&(a.postShop(),a.postUser(),a.updateActionbar({action:"编辑"}))}},{key:"render",value:function(){var e=this.props,a=e.actions,t=e.shop,l=e.user,n=e.actionbar;return h.default.createElement("div",{className:k.default.app},h.default.createElement(E.default,{title:n.title,back:n.back,action:n.action,handleClickAction:this.handleClickAction}),h.default.createElement(b.default,{actions:a,actionbar:n,shop:t,user:l}))}}]),a}(p.Component);a.default=g,e.exports=a.default},1276:1263,1277:function(e,a){e.exports={"section-main":"-t8KJnpH",sectionMain:"-t8KJnpH",form:"_1FILBn-B","img-wrap":"_1V7yeBiH",imgWrap:"_1V7yeBiH",img:"pRnJaeVm",file:"_3WKseLq1",card:"_35pp6fXx",field:"r6vFp-jC",label:"vSivlyQz",title:"_2fdJlDTn",input:"_1EqQcqL2",disabled:"_2EmX3mc6",logout:"_3FnDmRap"}}});